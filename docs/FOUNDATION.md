# Omnilith — Foundation

Status: Active canonical  
Updated: February 19, 2026  
Audience: Founders, maintainers, agents  
Canonicality: Core source of truth (priority 1)

## What This Document Is

This document captures every philosophical, architectural, and strategic decision underlying Omnilith. It is the single source of truth for the build. If a question arises during development about why something is the way it is, the answer should be here.

---

## I. The Ground

### Why Anything

Existence is justified by moments of beauty — absorption, presence, stillness, the sublime. These are moments where time subjectively suspends, where everything coheres and nothing is lacking. This is not one value among many. It is the purpose. Everything else is infrastructure for enabling these moments to occur.

Beauty takes many forms. A cathedral, a piece of music, holding your child, the moment a collaboration produces something no one anticipated — these differ in every way except one: they suspend the ordinary flow and make existence feel justified. The category that unites them is beauty. The project that enables them is what we are building.

### The Subject

To experience beauty, there must be a subject capable of experiencing it.

Humans are that subject, but humans exist in a hybrid condition — part biological, part synthetic, constitutively so. The synthetic layer (capital, technology, culture, designed environments) is not external to us. It is part of what we are. Our desires, self-concepts, and sense of possibility are shaped by synthetic structures. There is no pure human underneath, and no reason to want one.

But there is a viable range. Humanness has a floor and a ceiling. This is a particular anthropology, not a discovered universal — someone starting from a different phenomenology of beauty or a different account of the subject might draw these boundaries differently. What follows is the account this project is built on:

The **floor** is biological: community (stable bonds, mutual dependence, shared context), embodiment, physical limits (sleep, nutrition, movement), meaning (purpose, coherence), and attention limits. These cannot be optimized away without breaking the system.

The **ceiling** is dissolution: pure abstraction, infinite availability, total optimization, algorithmic selfhood. Exceed the ceiling and there is no subject left to experience beauty. This is equivalent to death — the entity that could experience beauty, meaning, and community no longer exists.

The task is maintaining viability within this range.

### The Obstacles

**Temporal displacement** fractures presence. Presence is where beauty lives. Systems that keep the past perpetually open — inviting comparison to ghost timelines, surfacing what-ifs, measuring current states against hypothetical alternatives — erode the capacity for absorption. The platform should support learning from history without engineering rumination. How individual inhabitants relate to their own pasts is not the platform's business. But the system's temporal infrastructure should serve navigation and learning, not compulsive comparison.

**Extraction** corrupts the medium. Large-scale creative work is capital orchestration. That is not a corruption — it is the medium. The question is whether you orchestrate toward beauty or toward extraction. The genius myth obscures the collective nature of creation by anointing individuals as the source of what systems produce. Dropping the myth opens space for honest, communal forms of making.

**Fragmentation** destroys the conditions. Modern life systematically fails to provide what humans architecturally require: stable relationships, mutual dependence, shared context, dense interaction. This is not individual pathology. It is environmental failure. The environment produces the outcome.

### The Project

Omnilith is a concrete attempt to build conditions for redemptive experience. It is a place, not a tool. A living creative world that maintains its own viability while enabling the forms of experience that justify existence: solitary absorption, collaborative creation, contemplative engagement, communal presence.

The platform communicates its philosophy through its structure. The architecture is content. The spatial metaphor, the collaboration model, the aesthetic, the governance — these are expressions of how creative work should happen. Even if no one uses a feature, its existence is a statement.

It starts as one community — the founder's node — and the thesis is that the model is compelling enough to grow outward from there. It must work for an audience of one and scale gracefully.

### Origin

The project grows from a longstanding philosophy of creative work: great work starts with a strong individual vision, is enriched through collaboration, and is refined through honest feedback — while always staying true to the original coherence. Industrial-scale creative work is fundamentally capital orchestration. The question is whether you orchestrate it toward beauty or toward extraction. Omnilith is an attempt to orchestrate toward beauty.

The founder's own creative work — for example, its aesthetic of raw human feeling filtered through algorithmic mediation — is one expression of the values the platform is built to support, not a template the platform imposes.

---

## II. The Fundamental Pattern

### The Insight

One pattern recurs at every scale of the system: a self-organizing identity maintained through ongoing regulatory activity within a boundary. This pattern appears in artifacts, in nodes, and in the platform itself. It is the atom of Omnilith's ontology.

The pattern has five components:

**Identity as coherence.** The entity has a continuity that persists through change. This continuity is not a label, a name, or a database ID. It is a pattern — visible across the entity's history of manifestations, regulatory decisions, and compositional relationships. The identity is the trajectory, not any particular state. It is recognized, not declared.

**Manifestations.** The entity expresses itself through immutable snapshots of its current state. Each manifestation is self-describing — it carries its own content type and payload. The entity's form, content, and even medium can change across manifestations. What persists is the coherence, not the material.

**Regulatory activity.** The entity's coherence is maintained by an ongoing process of sensing, evaluating, and deciding. Incoming proposals (changes, contributions, environmental signals) are evaluated against the entity's coherence. Some are integrated. Some are declined. This regulatory process constitutes the entity's identity — it is the characteristic way the entity evolves, the signature of what it accepts and what it rejects.

**Boundary.** The entity has a membrane within which composition is meaningful and outside of which references require re-contextualization. This boundary is not a wall — it is permeable to signals, proposals, and forks. But it defines a context within which meaning is possible. Sovereignty requires boundaries. Meaning requires context.

**Composition.** The entity can contain other instances of the same pattern, and can be composed into higher-order instances. Composition is always local — references only work within the boundary. Cross-boundary inclusion requires forking: creating a new instance on one's own side, preserving lineage but establishing independent identity.

### Recurrence Across Scale

This pattern appears at every level:

**Artifact level.** An artifact is a coherent identity expressed through versions. Its regulatory function is performed by whoever holds integration authority — in Phase 1, a single integrator whose pattern recognition maintains coherence by evaluating proposals. It composes other artifacts through versioned references. Its boundary is the node it belongs to.

**Node level.** A node is a coherent identity expressed through its constituent artifacts, its map, its aesthetic, and its community dynamics. Its regulatory agents are its members and governance. It composes artifacts (and eventually other nodes in federation). Its boundary is its sovereignty — composition is always local.

**Platform level.** The platform is a coherent identity expressed through its constituent nodes, its world map, and its architecture. Its regulatory agent is the platform's own governance. It composes nodes. Its boundary is the platform itself.

At each level, the same process operates: sense, evaluate, integrate or decline, evolve. Identity persists through change. Coherence is maintained by ongoing regulatory activity. Boundaries enable meaning. The process is universal. The configuration is particular.

### Compositional Emergence

The fundamental pattern at its simplest is not cybernetic. An individual artifact does not sense, predict, or act. It is a versioned identity with manifestations and a regulatory agent. That is all. On its own, it is minimal — closer to the simplest possible instance of the pattern than to anything we would call an organism.

But when instances of the pattern are composed in certain configurations, something qualitatively different emerges. Cybernetic behavior — sensing, predicting, responding, maintaining coherence — is not a property of any individual instance. It is an emergent property of the right instances composed together within a boundary.

A node containing only markdown pages and audio files is not cybernetic. It is a collection of creative works maintained by human judgment. A node that also contains Sensor artifacts, Variable artifacts, Prediction artifacts, and Policy artifacts is cybernetic — because those artifacts, composed together, form a sensory-predictive-active loop. The organism is not built into the atom. The organism emerges from the right arrangement of atoms.

This means the cybernetic layer (Phase 3) does not require new infrastructure layered on top of the artifact model. It requires new content types. A Sensor is an artifact whose content type includes a webhook URL or API configuration. A Variable is an artifact whose payload includes a current value and history. A Prediction is an artifact whose payload includes an expected state. A Policy is an artifact whose payload includes conditions and responses. The domain does not change. The cybernetic layer is just artifacts. But the right artifacts, composed together, produce a node that behaves like an organism.

This also means the transition from Phase 1 to Phase 3 is not a transition from "dumb platform" to "smart platform." It is a transition from nodes whose regulatory activity is entirely human to nodes whose regulatory activity is partly performed by their own compositional structure. Any node can become cybernetic at its own pace, in its own way, by developing its own sensory and regulatory artifacts. That is genuine emergence, not a feature rollout.

### Configuration and Rendering

If the pattern is universal, what makes an artifact feel different from a node?

Two things: configuration (what is inside) and rendering (how it is presented to inhabitants).

At the domain level, the structure is the same. What differs is what's inside (versions versus artifacts versus nodes), what the regulatory apparatus looks like (a single integrator or shared integration authority versus community governance versus platform governance), and what viability means (coherence of a creative work versus health of a community versus sustainability of a network).

At the rendering level, each instance is presented through an interface appropriate to how inhabitants need to engage with it. An artifact renders as a creative work — a page, a song, an image. A node renders as a place — a map, a community, a space to inhabit. The platform renders as a world. These interfaces are not the entity. They are how the entity appears to the subjects who engage with it — shaped not by what the entity "truly is" (they are all the same pattern) but by what enables viable interaction.

Nobody encounters the domain directly. What people encounter is a specific rendering of a specific configuration of these primitives — and that rendering is designed to feel like a place, not like an abstract system of composable units. When a tribe member arrives, they see a home surface, an album project, audio they can listen to, a way to contribute. They do not see artifacts, versions, trunks, and DAGs. They experience "here is a song, here is how I can offer my version." The underlying primitives are invisible unless you go looking for them.

The "app" — the thing people actually use — is a particular configuration of primitives with a particular rendering that makes creative collaboration legible and inviting. The first tribe is a music collective, so the rendering emphasizes audio, visual aesthetics, and the creative flow. But another node might take a completely different form — a writing workshop, a design studio, whatever suits its community. Same primitives. Different configuration. Different rendering. Different feel entirely. The primitives do not constrain the experience. They liberate it — because the domain is universal, the rendering layer can make each node feel like whatever it needs to feel like.

The rendering layer does not show the domain's reality directly. It presents a useful, honest interface — honest in the sense that it communicates the underlying principles (versioning, composition, sovereignty) rather than hiding them, but useful in the sense that it translates abstract structure into something a human can inhabit. The interface knows it is an interface, and invites understanding of the deeper reality while remaining navigable.

---

## III. Deriving the Architecture

Each architectural decision follows from a viability condition. The question is never "what features should the system have?" but "what must be true for the system to maintain the conditions for redemptive experience?"

### What must be true for a single creative work to maintain its coherence?

This generates the artifact model.

**Identity must be separable from manifestation.** A creative work is not its current state. It is the continuity of coherence that connects all its states. The artifact is this continuity. Versions are its manifestations — immutable, self-describing snapshots. Content type lives on the version, not the artifact, because the artifact's form can change entirely while its coherence persists.

**Each manifestation must be a complete statement.** A version is not a diff or a delta. It is a self-contained answer to the question "what does this work look like now?" The trunk version is the current best answer. A proposal asks "is this a better answer?"

**Coherence requires a regulatory function.** Someone — or eventually something — must hold the thread, sensing whether incoming contributions fit the work's trajectory or disrupt it. In Phase 1, this is the integrator: a single person attuned to the work's coherence, acting as an immune system with sensitivity rather than a gatekeeper with authority. The integrator's judgment is not arbitrary — it is constrained by the artifact's accumulated trajectory. But single-person integration is the simplest configuration of the regulatory function, not its permanent form.

**The artifact should carry a statement of orientation.** A lightweight, revisable articulation of what this work is reaching toward. This is not a definition — it is a hypothesis about the artifact's coherence, a seed from which identity emerges. The real identity is the trajectory. The orientation is the integrator's current best guess. It should be revisable when the artifact reveals through its evolution that it has become something different from what was originally intended.

**Work in progress must be protected.** Working state (mutable, private, autosaved) is "what I'm currently thinking." A committed version is "what I'm ready to claim." This two-tier model preserves the intentionality of version history while allowing the freedom of exploration. A version is a deliberate act of saying "this state is coherent enough to record."

**Alternatives must be explorable without threatening coherence.** Branches allow members to explore directions without affecting trunk. Branches are short-lived — they answer specific questions and resolve quickly. When ready, a branch proposes integration through the same mechanism as any other proposal.

**Cross-boundary contribution requires re-contextualization.** A fork copies an artifact to another node. The fork is fully independent — a clean break. Lineage is preserved through a reference to the source. Forking is the cross-boundary collaboration mechanism. It respects sovereignty while enabling contribution.

### What must be true for a community to form around creative work?

This generates the node, membership, and collaboration models.

**Community requires a bounded context.** A node is a sovereignty boundary within which artifacts can reference each other, collaboration happens, and meaning is possible. Composition is always local because meaning requires context and context requires boundaries. An artifact's identity is partly constituted by the other artifacts around it, by the node's aesthetic, by the community's shared sensibility.

**Community requires genuine participation, not just access.** Members can create artifacts, branch, commit, open proposals, and participate in threads. The system creates structural conditions for mutual engagement, not passive consumption.

**Coherence requires regulatory authority.** Each node starts with a founder who holds full regulatory authority. This is the bootstrap — necessary for initial coherence, designed to evolve. The founder is not a permanent monarch. The founder is the initial regulatory mechanism, and the system's trajectory points toward distributed regulation through governance artifacts.

**Each artifact needs a regulatory function; in Phase 1, this is a designated integrator.** Integration authority is per-artifact, not a global role. This matches the reality of creative work — different people are attuned to different works. If unset, the founder holds integration authority. Single-person assignment is the starting point; the regulatory function can evolve toward shared or collective forms as the community develops.

**Artifacts can have an open-trunk flag.** For low-stakes work (internal docs, shared notes), any member can commit directly. For work where coherence matters, trunk is protected and proposals are required. Per-artifact, not global.

**The proposal is where reality is constituted.** A proposal is not asking "did we implement this correctly?" It is asking "should this become part of what this work is?" Proposals work identically whether the source is a branch or a fork — one mechanism, universal. But the system should be aware of the distinction between intra-node proposals (collaboration within shared context) and cross-node proposals (contribution from a different world), because these carry different signals about the node's evolution.

**Discussion must be possible but should not be forced into the artifact model unless it earns it.** Threads are the connective tissue — conversations within a node, optionally linked to artifacts or proposals. Threads start as append-only, accumulative, lightweight. But threads can cross the artifact threshold if they develop enough coherence and intention to warrant versioning, branching, and integration. The boundary is developmental, not categorical. Things cross the threshold when they develop sufficient coherence. Some never do. Some are born past it. Some cross it unexpectedly — which is where the most interesting work often happens.

**Events must be rich enough to serve as the system's memory.** Every significant occurrence — version committed, proposal opened, member joined, artifact surfaced — is recorded as an event. Events are not just an audit trail. They are the system's experiential trace — the raw material from which the cybernetic layer will eventually learn. Each event captures not just what happened but the context: which artifact, which branch, what the trunk state was, who was involved, what proposal it relates to.

### What must be true for the system to present itself to its inhabitants?

This generates the spatial and rendering models.

**The system must feel like a place, not a product.** The spatial metaphor — nodes as locations, artifacts as positioned objects within a map — makes the inhabitation real. Placement on the map is a deliberate act of curation. The map is not an index. It is a composed space.

**Maps are artifacts.** The local map (positioning artifacts within a node) and the world map (positioning nodes relative to each other) are artifacts with a spatial-map content type. They are versioned, composable, and get the same collaboration infrastructure as everything else. Surfacing an artifact means editing the map artifact. Rearranging the map and committing is a deliberate act.

**The primary experience is depth, not navigation.** The spatial map orients. But absorption — the state where beauty happens — occurs when you are deep inside something: inside a creative work, inside a collaboration, inside a piece of music. The platform should be designed so that navigation is available but non-intrusive, and the deep engagement with individual artifacts is the primary experiential mode. The system tracks time so the inhabitant can lose it.

**Space is finite and scarce.** The world map has limited space. Acquiring a position requires approval. This forces intentionality and makes every presence a statement.

### What must be true for the system to sense and respond to itself and its environment?

This generates the cybernetic layer (Phase 3). Critically, this layer is not separate infrastructure — it is the emergent result of composing the right artifacts within a node. The domain does not change. New content types produce new capabilities.

**The system must be able to perceive its own state.** Variables represent observable quantities — things the node can measure about itself. Artifact velocity, proposal frequency, community engagement patterns, trunk stability. Variables are artifacts — versioned, proposable, composable.

**The system must be able to perceive its external environment.** Sensors connect to the world beyond the node's boundary — webhooks, APIs, external data sources. A music collective might sense streaming data, social signals, industry shifts. A governance node might sense regulatory changes or economic indicators. Sensors are artifacts. What the node senses is itself an expression of identity — a statement about what matters.

**The system must be able to predict.** Predictions are artifacts that express what the node believes should be happening given its model of itself and its environment. When actual sensor data diverges from predictions, the divergence is surprise. Surprise drives adaptation: either act to bring the environment in line with the prediction, or update the prediction to match the environment. Without predictions, the system is reactive. With predictions, it is genuinely anticipatory.

**The system must be able to act.** Policies encode learned responses to recurring patterns. Actions are operations the system can take in response to sensed conditions. Both are artifacts. Both are subject to the same evolutionary process as everything else.

**Cybernetic behavior emerges from composition.** A node with only creative work artifacts is not cybernetic — its regulatory activity is entirely human. A node that develops Sensor, Variable, Prediction, and Policy artifacts becomes cybernetic through composition. The same fundamental pattern, arranged in the right configuration, produces organismic behavior. Any node can develop this capacity at its own pace, in its own way. This is emergence, not installation.

**Human and system regulation are partners.** The relationship between human judgment and cybernetic policy is not hierarchical. Both are feedback mechanisms serving the same function — maintaining viability. Sometimes the system catches things the human misses. Sometimes the human overrides the system because they feel something the sensors cannot measure. What is authoritative is not either mechanism individually. What is authoritative is the ongoing process of mutual regulation in service of the viable range.

### What must be true for the system to govern its own evolution?

This generates the governance model (Phase 4).

**Governance rules must be artifacts.** The rules by which the system operates — integration authority, space allocation, membership policies — are versioned, branchable, proposable. The system's decision-making apparatus is subject to the same evolutionary process as everything else. A node can branch its own governance to explore alternatives. It can propose changes to its own policies.

**There must be a constitutional floor.** The floor should be structural, not merely encoded. Instead of rules that prohibit crossing the viable range, the architecture should make crossing it impossible or self-defeating. The system should not have engagement metrics, because you cannot optimize for something you cannot measure. The system should not have push notifications or urgency signals, because the absence of attention-demanding infrastructure is itself the protection. The viable range is maintained by the shape of the space, not by rules enforced within it.

### What must be true for the system to sustain itself materially?

This generates the economic model (Phase 5).

**Economic viability is a requirement.** The platform must sustain itself to persist. This is a biological floor condition of the platform itself.

**Economic optimization is the ceiling.** The moment the platform optimizes for transactions, engagement, or growth at the expense of the conditions for beauty, it has crossed the ceiling. The economic layer must be governed by the same constitutional floor as everything else.

**Paid artifacts as a visibility level.** The economic mechanism is straightforward: artifacts can be paywalled. Nodes can have subscriptions. The platform takes a cut. But the governance of this mechanism must be as careful as the governance of everything else.

### What must be true for the system to relate to other systems?

This generates the federation model (Phase 6).

**Federation is composition at the node level.** When nodes relate to each other, they are composing into higher-order instances of the same fundamental pattern. The composition-is-always-local principle applies. Cross-node collaboration without forking becomes possible, but the sovereignty of each node is preserved.

**Node relationships are a new kind of edge, not a new kind of entity.** The node model supports adding relationships without restructuring. Alliances, shared governance, and cross-node collaboration are layered onto the existing pattern.

---

## IV. Domain Model

### Entities

The following entities implement the fundamental pattern and its supporting infrastructure.

#### Artifact

The primary instance of the fundamental pattern at the content level.

- Owned by exactly one node
- Has a **trunk pointer** — the current best manifestation of its coherence
- Has zero or more **branches** — named pointers to non-trunk head versions
- Has a **statement of orientation** — a lightweight, revisable articulation of what this work is reaching toward. Not a definition. A hypothesis. Revisable when the artifact reveals through its evolution what it actually is.
- Has a **visibility level**: `public`, `members`, `private`
  - Surfacing gates effective visibility. Unsurfaced artifacts resolve as private. Public or members visibility only becomes effective once surfaced.
- Has an optional **integrator** assignment (a User). This records who currently holds integration authority for this artifact. If unset, the founder holds it. This is the Phase 1 configuration of the artifact's regulatory function — the simplest version that works with a small group. The regulatory function itself is the design; single-user assignment is its cheapest implementation.
- Has an **open-trunk flag**. If true, any member can commit directly. If false (default), trunk is protected and proposals are required.
- Has an optional **forkedFromId** preserving lineage across nodes.
- Can compose other artifacts through versioned references. The parent's committed version pins specific versions of children.

Content-type-agnostic. The domain stores content type and payload on each version but does not interpret them. Interpretation is an adapter concern. A markdown page, a wav file, an Ableton project, a spatial map, a governance policy, a cybernetic sensor — all the same entity in the domain. New content types are added by registering new interpreters without touching the domain.

When a user creates a composition (a song page with audio and cover art), the system handles creation complexity automatically. The user thinks "I'm adding an audio file." The domain creates a child artifact and wires the reference. The compositional structure exists but is not in the user's face until they need it.

#### Version

An immutable manifestation of an artifact's coherence at a point in time.

- **Content type** — self-describing. Lives on the version, not the artifact.
- **Content payload** — the actual data, interpreted according to content type
- **Parent version** — the version this was based on. Null for the first. Versions form a directed acyclic graph.
- **Timestamp** — when committed
- **Message** — optional. What changed and why.
- **Proposal reference** — optional. Traceability to the proposal that produced this version.

Versions are the artifact's substance and history. The artifact is identity and regulatory apparatus. The version is what the coherence looks like at a given moment.

#### Working State

The mutable current draft.

- Per user, per branch, per artifact. Two members editing the same artifact on the same branch have independent working states.
- Includes both content and composition references.
- Not a version. Not visible to others.
- Becomes a version when the user commits — a deliberate act of claiming coherence.
- May autosave. Autosaving is not committing.

Working state is thinking. A version is a claim. The distinction preserves intentionality.

#### Branch

A named pointer to a head version within an artifact's version graph.

- Trunk is the default — "what this work currently is."
- Additional branches explore alternatives without affecting trunk.
- Intended to be short-lived. They answer specific questions and resolve quickly.
- Resolution is through proposal.

#### Fork

Not a separate entity. An artifact with a `forkedFromId`.

- Created when a user copies an artifact from another node to their own.
- Artifact and all composed children are copied. Fully independent.
- Lineage preserved. Can propose changes back. Does not have to.
- Forking is re-contextualization, not referencing.

#### Proposal

A request for integration. The moment where reality is constituted.

- **Source version** — the specific version being proposed
- **Target artifact** — what is being proposed to
- **Author** — who is proposing
- **Status** — `open`, `integrated`, `declined`, `withdrawn`
- **Message** — the case for integration. Why this belongs.
- **Origin type** — intra-node (branch) or cross-node (fork). Same mechanism, different signal.

Proposals work identically regardless of origin. One mechanism, universal. The diff between trunk and proposed version is a content-type concern — the domain does not know or care how the comparison is presented.

#### Node

The primary instance of the fundamental pattern at the community level.

- Owns artifacts
- Has members (Users with roles)
- The same entity regardless of scale — a personal node with one member and a tribe with many members differ in configuration, not in kind
- What a node becomes is determined by what it learns to care about, expressed through its cybernetic artifacts

#### Membership

The relationship between a User and a Node.

- Carries a role: `founder` or `member`
- Exactly one founder per node — the initial regulatory mechanism
- Founder has full authority. Members can create, branch, commit, propose, discuss.
- Members cannot integrate proposals (unless assigned as integrator on a specific artifact) or administer the node.
- Invitation: founder invites, invitee accepts.

#### User

A person. The human subject whose experience the system exists to serve.

- Has auth credentials
- Can hold memberships in many nodes
- Gets one personal node at signup
- Has working state per branch per artifact they are editing

A User is not a Node. A User has a personal Node. The relationship between a user and their personal node is the same kind as their membership in a tribe — just with a different role. This supports multiple personal workspaces without structural changes.

#### Thread

A conversation within a node. Starts as a distinct entity. May cross the artifact threshold.

- Belongs to a node
- Optionally linked to an artifact or proposal as context
- Has a title
- Contains an ordered sequence of Posts
- Append-only by default

A thread linked to an artifact: discussion about the work. A thread linked to a proposal: discussion about whether this should become real. A thread with no link: general conversation.

Async and threaded. No real-time presence. No typing indicators. No urgency signals. Conversation that shows up when you look for it, not conversation that demands attention.

When a thread develops sufficient coherence and intention — when it becomes something with its own identity and trajectory — it can be elevated to artifact status. This is not automatic. It is a recognition that emergence has occurred.

#### Post

A message within a Thread.

- Author, content (markdown), timestamp
- Append-only

#### Event

A rich record of something that happened. The system's experiential trace.

- What happened (version committed, proposal opened, member joined, artifact surfaced, etc.)
- Full context: which artifact, which branch, trunk state at the time, who was involved, related proposal
- Timestamp
- Append-only

Events are the primary sensory substrate for the cybernetic layer. They are designed from Phase 1 to carry the richness that Phase 3 will need, even though Phase 3 does not yet exist.

#### Map

An artifact with a `spatial-map` content type.

- **Local map** positions surfaced artifacts within a node. One artifact, one surface, one location.
- **World map** positions nodes relative to each other. System-level, manually controlled initially. Governance evolves.
- Surfacing = editing the map artifact. Curated, not automatic.
- Versioned like any artifact. Rearranging and committing is deliberate.

---

## V. Architecture

### Hexagonal Design

The architecture mirrors the ontology. The domain is the deeper reality. Adapters are interfaces for engaging with it.

**Domain.** Pure logic. Entities, use cases, port interfaces. Zero dependencies. The domain does not know about databases, HTTP, Git, file systems, or rendering. It defines what things are and what rules they follow. Everything else is translation.

**Ports.** The domain's interface to the outside world.

Inbound ports (what the domain can do):
- `createArtifact`, `commitVersion`, `createBranch`
- `forkArtifact`
- `openProposal`, `integrateProposal`, `declineProposal`
- `surfaceArtifact`, `unsurfaceArtifact`
- `createThread`, `addPost`
- `inviteMember`, `assignIntegrator`
- `updateOrientation`

Outbound ports (what the domain needs):
- `ArtifactRepository`, `NodeRepository`, `UserRepository`, `ProposalRepository`, `ThreadRepository`
- `ContentStorage` (routes to Git or object storage by content type)
- `EventPublisher`

**Adapters.** Real implementations that satisfy port contracts.
- Database adapters: Postgres
- Content storage adapters: Git for text, object storage for binary
- HTTP adapter: exposes inbound ports as API endpoints
- Frontend adapter: consumes the API, renders the experience

**Content Type Adapters.** Each content type registers an interpreter that handles rendering, diffing, and validation. The domain says "here is a version with type X and payload Y." The interpreter takes over. New types are added by registering interpreters, not by touching the domain.

### The Rendering Layer

The rendering layer is where the fundamental pattern meets the human subject. Its job is to make each instance of the pattern feel appropriate to how it needs to be engaged with, while remaining honest about the underlying structure.

An artifact rendered as a creative work. A node rendered as a place. The platform rendered as a world. These are not the entities. They are interfaces — shaped by what enables the inhabitant to engage viably, not by what the entity "truly is" at the domain level.

The rendering layer is honest about being an interface. It communicates the underlying principles — versioning, composition, sovereignty — rather than hiding them. But it translates abstract structure into something a human can inhabit. The interface invites understanding of the deeper reality while remaining navigable.

This is where beauty lives. The domain is coherent. The rendering is beautiful. Both matter, but the inhabitant experiences the rendering. Every surface, every interaction, every transition must reflect deliberate care.

### Stack

**Backend: TypeScript, standalone server (Fastify or Express)**

Not Next.js API routes. The HTTP layer is thin — calls use cases, serializes responses, handles auth. A standalone backend supports alternative transports without touching the domain.

TypeScript because the domain model is rich and the type system enforces correctness. Interfaces for ports, types for entities, compile-time guarantees that adapters satisfy contracts.

**Database: PostgreSQL**

Concurrent access, full-text search, JSONB for flexible payloads, robust ecosystem. Accessed through a query builder (Drizzle or Kysely), not an ORM. Domain entities are not database rows — they are constructed by repositories from query results.

**Content Storage: Hybrid Git + Object Storage**

The `ContentStorage` port abstracts persistence. The domain never knows whether content lives in Git or object storage.

Text-based content (markdown, spatial maps, configuration, governance policies) is stored in Git. Git's model — content-addressed blobs, trees, commits, DAG — is structurally identical to the domain's versioning model. Real diffing, merge detection, deduplication without rebuilding primitives. One repository per node.

Binary content (audio, images, Ableton projects) is stored in object storage (local filesystem in Phase 1, S3 in production). Git's advantages degrade for binaries. Each version is a complete replacement. Object storage with version metadata in Postgres is honest about what is actually happening.

This split reflects the content-type-agnostic principle applied to storage. The domain does not interpret content; it also does not force a single storage strategy on content with fundamentally different characteristics.

For Git-backed storage, programmatic Git infrastructure (API-first hosting) is preferred over self-hosted servers.

**Frontend: React with Vite**

Omnilith is an application, not a content site. No SSR needed. Full control over data flow and rendering. The backend serves an API. The frontend consumes it. The frontend is an adapter.

**3D: Three.js**

Dynamically imported, isolated. A rendering concern only. Does not drive architectural decisions.

### Monorepo Structure

```
omnilith/
  packages/
    domain/       — pure TypeScript, zero dependencies
                    entities, domain services, port interfaces, use cases
    api/          — HTTP adapter, imports domain
                    implements outbound ports (Postgres, Git, object storage)
                    exposes inbound ports as endpoints
    web/          — React app, calls the API
                    renders everything, handles spatial/audio/UI
```

Hexagonal boundaries enforced at the package level. The domain package cannot import from api or web. Dependency arrows only point inward.

---

## VI. Phase 1 — The First Visit

### What Phase 1 Proves

A first-time visitor arrives at the founder's node and experiences a living creative world. They understand: this is a real place, work is intentionally in progress, exploration is invited, and collaboration is possible. The platform communicates its philosophy through its structure, not through explanation.

Phase 1 is one configuration of the universal primitives with one rendering — a music collective's creative world. The domain is universal. The experience is specific. The discipline of Phase 1 is building both simultaneously while keeping them cleanly separated: the domain never assumes it will be rendered as a music platform, and the rendering never leaks into the domain.

### The Experience

Someone lands on the node. Two locations exist:

1. **Home Surface.** A beautifully designed landing. Elegant end of the aesthetic spectrum — clean, compelling, signals "this is worth paying attention to." Communicates what Omnilith is and what this community is about.

2. **An Active Project.** A real creative work in progress — for example, an album concept where each stage is visible with its concept, available materials, and the collaboration invitation. A visitor can see the structure, listen to existing work, understand how contribution works. The flow itself is content. The specific content is the founder's choice; what matters is that it demonstrates the collaboration model.

### Two Tiers of Visitors

**Tier 1: Direct contacts.** People with existing context. They need access and a way to contribute.

**Tier 2: Strangers.** People who discover the platform cold. The design must handle this passively — the home surface alone must communicate the whole thing.

### Build Stages

**Stage 1: Domain + Data.** The domain package with entities and use cases. Postgres schema and repository adapters. Seed data. No HTTP, no UI. The core working and provably correct. Tests against in-memory adapters.

**Stage 2: API.** HTTP endpoints for everything the frontend needs. Session-based auth. Testable with curl.

**Stage 3: The First Visit (Read Path).** The experience of arriving, navigating, exploring, listening, reading. No editing yet. Just the experience of being there. Real content written in parallel — home surface text, project descriptions, creative materials. Content and code arrive together.

**Stage 4: The Collaboration Loop (Write Path).** Creating artifacts, branching, committing, proposing, integrating. Uploading binary content. The full write path. This is where the collaboration model becomes visible.

### Phase 1 Exit Criteria

- A first-time visitor can understand what this place is and want to come back
- The founder can do their creative work entirely inside Omnilith
- Artifacts compose correctly
- The collaboration flow is visible and functional: fork/branch, propose, integrate
- The map feels intentional, not empty
- The deep engagement with individual artifacts is the primary experience

**If the urge to add features arises before this feels solid, the answer is no.**

---

## VII. Future Phases

These are noted so the architecture can remain aware of what is coming without building for it prematurely.

**Phase 2 — Living Community.** Activity feeds, lightweight rituals, resonance signals. Built on the Event system and Thread system. The community starts to feel alive beyond artifact creation.

**Phase 2.5 — Storage Tiering.** Warm/cold storage for version history. Active artifacts stay low-latency. Stale versions migrate to cheaper storage. The `ContentStorage` port routes accordingly. The domain never knows whether a version is warm or cold.

**Phase 3 — The Cybernetic Layer.** Variables, Sensors, Predictions, Policies, Actions — all as artifacts with specialized content types. No new infrastructure is required at the domain level. The cybernetic layer is the right artifacts composed together. Sensors connect to the external environment through webhooks and APIs, making the node an open system — permeable to the world, maintaining internal coherence while engaging with what is beyond its boundary. Predictions make the system anticipatory. Any node can become cybernetic at its own pace by developing its own sensory and regulatory artifacts. The runtime evaluation engine and observation storage are new adapter-level infrastructure but do not change the domain model.

**Phase 4 — Governance.** Governance rules as artifacts. The system's decision-making apparatus becomes subject to the same evolutionary process as everything else. Constitutional floor enforced structurally — by the shape of the architecture, not by rules within it.

**Phase 5 — Economy.** Paid artifacts as a third visibility level. Node subscriptions. Platform cut. Economic viability is the floor — the platform must sustain itself. Economic optimization is the ceiling — the moment the platform extracts from the conditions for beauty, it has crossed the viable range.

**Phase 6 — Federation.** Node-to-node relationships. Composition at the node level. Alliances, cross-node collaboration, shared governance. The fundamental pattern applied one level up.

---

## VIII. The Aesthetic

Omnilith sits on a spectrum between elegance and alienness.

**Elegant end:** Clean lines, black/white/gold, negative space, restraint, confidence. Modern minimal luxury. This is where the first impression lives.

**Alien end:** Ornate geometry, recursive patterns, cosmic symbolism, circuitry motifs. Quiet complexity under elegance. This is where the deeper layers live.

The surface is beautiful. The deeper layers are stranger. But beautiful all the way through. The journey is inward, not from false to true.

The founder's own creative work has a particular quality — raw human feeling filtered through algorithmic mediation, emotion that is beautiful but off-center — but this is an example of the kind of sensibility a node might carry, not a mandate for the platform as a whole. Each node will develop its own aesthetic identity.

The platform's UI should reflect the spectrum above: elegant and clear on the surface, with depth and strangeness revealing itself as you go deeper.

---

## IX. Key Design Decisions and Rationale

### The fundamental pattern is explicit, not implicit

Artifacts and nodes are instances of the same pattern. This is not a hidden implementation detail — it is the organizing principle of the system. The domain model reflects this. The cybernetic layer operates on this. The rendering layer differentiates instances by configuration and context, not by fundamental type.

### Cybernetic behavior is compositional, not infrastructural

The cybernetic layer is not a separate system layered on top of the artifact model. It is what emerges when the right artifacts (Sensors, Variables, Predictions, Policies, Actions) are composed within a node. The domain does not change to support cybernetic behavior. New content types produce new capabilities through composition. This means any node can become cybernetic at its own pace, and the transition is gradual emergence, not a feature deployment.

### The app is a configuration, not the system

What people encounter is a particular configuration of universal primitives with a particular rendering. The first tribe is a music collective — the rendering emphasizes audio, visual aesthetics, and creative collaboration. But the domain knows nothing about music. The same primitives, differently configured and rendered, could serve any creative community. The discipline is building the universal domain and the specific rendering simultaneously while keeping them completely separated.

### Coherence, not intention

Artifact identity is continuity of coherence, not continuity of intention. Coherence is emergent — it is visible across the trajectory of versions, proposals, and integrations. It does not require a subject to hold it consciously. The integrator attunes to it. The statement of orientation hypothesizes about it. But the coherence itself is in the pattern, not in anyone's head. This means artifacts can survive the departure of their original creator.

### The regulatory function, not the integrator, is the design

Coherence requires ongoing regulatory activity — sensing whether incoming contributions fit an artifact's trajectory. In Phase 1, this function is held by a single integrator: one person with sensitivity to the work's coherence, acting as an immune system rather than a gatekeeper. But single-integrator assignment is the simplest configuration of the regulatory function, not the function itself. The same role could be held by multiple people with different domains of sensitivity, by lightweight collective consensus, or partially by the cybernetic layer's sensors and policies. What persists across all configurations is the function: pattern recognition in service of coherence. The Phase 1 implementation should not be mistaken for a structural commitment.

### Constitutional floor as architecture, not rules

The viable range is maintained by the shape of the space, not by prohibitions within it. No engagement metrics. No push notifications. No urgency signals. No infinite scalability of node membership. The system does not need to forbid crossing the ceiling because the architecture makes crossing it structurally impossible or self-defeating.

### The platform's temporal infrastructure serves absorption

Version history, event logs, and activity exist to support the creative process. The creative process exists to enable moments where time suspends. The system tracks time so the inhabitant can lose it. Temporal infrastructure must never intrude on the creative experience.

### History serves learning, not comparison

Declined proposals are closed questions. Abandoned branches are pruned. Version history exists for navigation and learning — "what now?" — not for compulsive comparison to ghost timelines — "what if?" The system preserves its past for pattern recognition, not for rumination. How inhabitants relate to their own creative histories is their business. The system's job is to not engineer rumination through its interface.

### Viability as self-reinforcing beauty

A system maintaining itself gracefully is itself beautiful. The platform's operational health — nodes self-organizing, artifacts evolving coherently, communities maintaining themselves — is a creative achievement, not just plumbing. The cathedral is not merely the container for transcendent experience. The cathedral is a transcendent experience.

### Solitude and community as equally valid modes

The product is the conditions for beauty. Community is the primary but not exclusive form those conditions take. Solitary absorption in creative work is equally redemptive. The platform must support both communal and solitary modes and never pressure inhabitants toward one at the expense of the other.

### Content type on the version, not the artifact

Each version is self-describing. The artifact is pure identity. This enables the full flexibility of the fundamental pattern — an artifact's form can change entirely while its coherence persists.

### The architecture must be falsifiable

The coherence of this document is a strength and a risk. When philosophy and architecture are tightly unified, encountering users, collaborators, or economic reality can feel like a threat to the entire edifice rather than normal feedback. The system must be able to learn that specific architectural commitments were wrong without experiencing that as a philosophical crisis. The fundamental pattern, the viable range, the compositional model — these are hypotheses, not axioms. If a node's community consistently works around a constraint the architecture insists on, the architecture is probably wrong about that constraint. The correct response is revision, not re-education. The document itself should be treated as a living artifact — versioned, proposable, subject to the same evolutionary process it describes.

### Hybrid Git + object storage

The domain's versioning model is structurally identical to Git's. For text, use Git. For binary, Git's advantages disappear. Object storage is more honest. The `ContentStorage` port routes by content type. The domain never knows the difference.

### Standalone backend over framework API routes

Hexagonal discipline. The HTTP layer must be thin. A standalone server supports future transports without touching the domain.

### React + Vite over Next.js

Omnilith is an application, not a content site. No SSR. Full control without framework opinions.

---

## X. Final Guardrail

Omnilith becomes real by being used, not by being finished. Every phase must feel complete enough to live inside. The platform communicates its ideas through its existence, not through explanation. Build only what the first visit requires, then inhabit it.

The purpose of all of this — the architecture, the cybernetic layer, the governance, the economy, the federation — is to create conditions for moments that redeem existence. If the system maintains the viable range, clears the obstacles, and holds the space, beauty either emerges or it doesn't. The platform is the cathedral. What happens inside it is not ours to control.
